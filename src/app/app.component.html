<div class="game-container" [class.game-is-mobile]="mobileQuery.matches">
  <mat-toolbar color="primary" class="game-toolbar">
    <h1 class="game-app-name">Age of Clicking - Version {{settingsService.gameVersion}}</h1>
    <div class="sidenav-buttons">
      <button mat-icon-button [style.display]="!mobileQuery.matches ? 'none': ''" (click)="hideResourceList = !hideResourceList">
        <mat-icon>map</mat-icon>
      </button>
      <button mat-icon-button (click)="snav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
    </div>
  </mat-toolbar>

  <mat-sidenav-container class="game-sidenav-container" [style.marginTop.px]="mobileQuery.matches ? 56 : 0">
    <mat-sidenav #snav [mode]="mobileQuery.matches ? 'over' : 'side'" [fixedInViewport]="mobileQuery.matches" position="end"
      fixedTopGap="56">
      <mat-nav-list>
        <mat-tab-group class="tab-group" dynamicHeight [matBadge]="affordableUpgradeCount" [matBadgeHidden]="affordableUpgradeCount <= 0"
          matBadgePosition="before" matBadgeColor="accent">
          <mat-tab label="Workers">
            <app-workers></app-workers>
          </mat-tab>
          <mat-tab label="Store">
            <app-store></app-store>
          </mat-tab>
          <mat-tab label="Upgrades">
            <app-upgrades></app-upgrades>
          </mat-tab>
          <mat-tab label="Settings">
            <app-settings></app-settings>
          </mat-tab>
          <mat-tab label="Debug" *ngIf="debugMode">
            <app-admin-debug></app-admin-debug>
            <app-messages></app-messages>
          </mat-tab>
        </mat-tab-group>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content>
      <div class="main-pane">
        <app-clicker-main class="resource-list" [style.display]="mobileQuery.matches && hideResourceList? 'none': ''"></app-clicker-main>
        <app-map class="map" [style.display]="mobileQuery.matches && !hideResourceList? 'none': ''"></app-map>
        <!-- <app-enemy></app-enemy> -->
        <!-- <app-fighter></app-fighter> -->
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
