<ul class="resources noselect">
  <mat-accordion multi="true">
    <mat-expansion-panel expanded="true" *ngFor="let resourceType of resourceTypes | enumToArray">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{resourceType}}
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>

      <div class='button-container' *ngFor="let resource of getResources(resourceType, adminService.filterAccessible)"
        matTooltip="{{getTooltipMessage(resource)}}" matTooltipPosition="right">
        <button mat-raised-button class="resource-button" [ngClass]="{'warn': resourceIsBeingStolen(resource)}"
          [disabled]="!canHarvest(resource, resource.harvestYield)" (click)='startHarvesting(resource)'>
          <div class="key-container" *ngIf="resource.bindIndex >= 0">
            <img src="./assets/sprites/key.png">
            <p>{{resource.bindIndex}}</p>
          </div>

          <mat-card-title>{{resource.name | titlecase }}</mat-card-title>
          <mat-card-subtitle>{{resource.amount | number:'1.0-0'}}</mat-card-subtitle>
          <mat-progress-bar [class.hidden]="!resource.harvesting" class="harvest-progress" [value]="resource.progressBarValue"></mat-progress-bar>

          <img class="resource-img" src="{{resource.iconPath}}" alt="{{resource.name}}" *ngIf="resource.iconPath !== ''">
          <div class='travelling-count' *ngIf="resource.amountTravelling > 0">{{resource.amountTravelling}} Travelling</div>
        </button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</ul>
